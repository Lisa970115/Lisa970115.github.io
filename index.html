<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>小吃攤線上點餐</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background-color: #fff8f0;
    }
    h1 {
      color: #d43f3a;
    }
    .menu-item {
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #ddd;
      background-color: #fff;
      border-radius: 5px;
    }
    .item-name {
      font-size: 18px;
      font-weight: bold;
    }
    .item-price {
      color: #555;
    }
    .order-btn {
      margin-top: 10px;
      padding: 5px 10px;
      background-color: #d43f3a;
      color: white;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    #total {
      margin-top: 30px;
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>

  <h1>線上點餐</h1>

  <div class="menu-item">
    <div class="item-name">麻辣魚蛋</div>
    <div class="item-price">NT$30</div>
    <button class="order-btn" onclick="order(30)">下單</button>
  </div>

  <div class="menu-item">
    <div class="item-name">奶酪</div>
    <div class="item-price">NT$30</div>
    <button class="order-btn" onclick="order(30)">下單</button>
  </div>

  <div id="total">累積消費金額：NT$0</div>

  <script>
    let total = 0;
    function order(price) {
      total += price;
      document.getElementById('total').textContent = `累積消費金額：NT$${total}`;
    }
  </script>

</body>
</html>
<script>
function sendOrder() {
  // 這是要送出的資料（你可以根據實際餐點內容修改）
  const orderData = {
    items: [
      { name: "麻辣魚蛋", qty: 1, price: 30 },
      { name: "奶酪", qty: 2, price: 30 }
    ],
    total: 90
  };

  // 換成你的實際 Apps Script Web App 網址
  const apiUrl =“ https://script.google.com/macros/s/AKfycbw_OnR0Q62fKRjgVRSav1eFRgIIt12TS4YnafmFhoxBsS_DUBRP4mnOtal-KxnbIO8edA/exec”;

  fetch(apiUrl, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(orderData)
  })
  .then(res => res.json())
  .then(data => {
    console.log("送出成功！", data);
    document.getElementById("status").textContent = `訂單送出成功，編號：${data.orderId}`;
  })
  .catch(err => {
    console.error("送出失敗", err);
    document.getElementById("status").textContent = "訂單送出失敗，請再試一次";
  });
}
</script>

